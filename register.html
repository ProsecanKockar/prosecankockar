!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Registracija - Prosečan Kockar</title>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
<style>
body {
background-color: #121212;
color: #f1f1f1;
font-family: 'Segoe UI', sans-serif;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
height: 100vh;
margin: 0;
}

h1 {
color: #00ffcc;
margin-bottom: 30px;
}

input {
padding: 12px;
margin: 10px 0;
width: 250px;
border: none;
border-radius: 4px;
background-color: #1e1e1e;
color: #fff;
font-size: 16px;
}

button {
padding: 12px 20px;
margin-top: 20px;
background-color: #00ffcc;
color: #000;
border: none;
border-radius: 4px;
cursor: pointer;
font-weight: bold;
font-size: 16px;
transition: background 0.3s;
}

button:hover {
background-color: #00ccaa;
}

.form-container {
background-color: #1e1e1e;
padding: 40px;
border-radius: 8px;
box-shadow: 0 0 15px #00ffcc33;
text-align: center;
}
</style>
</head>
<body>
<div class="form-container">
<h1>Kreiraj nalog</h1>
<input type="email" id="email" placeholder="Email" required /><br/>
<input type="password" id="password" placeholder="Lozinka" required /><br/>
<button onclick="registerUser()">Registruj se</button>
</div>

<script>
const firebaseConfig = {
apiKey: "OVDE-UBACI-SVOJ-API-KEY",
authDomain: "tvoj-projekat.firebaseapp.com",
projectId: "tvoj-projekat",
storageBucket: "tvoj-projekat.appspot.com",
messagingSenderId: "XXXXXX",
appId: "1:XXXXXX:web:XXXXXX"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

async function registerUser() {
const email = document.getElementById("email").value;
const password = document.getElementById("password").value;

try {
const userCredential = await auth.createUserWithEmailAndPassword(email, password);
const user = userCredential.user;

// Kreiranje dokumenta u 'users'
await db.collection("users").doc(user.uid).set({
balance: 1000,
email: user.email,
createdAt: firebase.firestore.FieldValue.serverTimestamp()
});

alert("Registracija uspešna!");
window.location.href = "dashboard.html";
} catch (error) {
alert("Greška: " + error.message);
}
}
</script>
</body>
</html>
